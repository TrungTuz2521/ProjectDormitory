@model KTX.Models.ViewModels.ThongTinCaNhanViewModel

<div>
    <h6 class="mb-3 fw-bold">
        <i class="bi bi-file-earmark-text-fill text-info me-2"></i>
        Contract Information
    </h6>

    @if (!string.IsNullOrEmpty(Model.MaHopDong))
    {
        <div class="row g-3">
            <div class="col-md-4">
                <div class="contract-box">
                    <small class="text-muted d-block mb-1">
                        <i class="bi bi-file-text me-1"></i>
                        Contract ID
                    </small>
                    <strong>@Model.MaHopDong</strong>
                </div>
            </div>

            <div class="col-md-4">
                <div class="contract-box">
                    <small class="text-muted d-block mb-1">
                        <i class="bi bi-calendar-check me-1"></i>
                        Contract Start
                    </small>
                    <strong>
                        @if (Model.NgayBatDau != DateTime.MinValue)
                        {
                            @Model.NgayBatDau.ToString("dd/MM/yyyy")
                        }
                        else
                        {
                            <span class="text-muted">N/A</span>
                        }
                    </strong>
                </div>
            </div>

            <div class="col-md-4">
                <div class="contract-box">
                    <small class="text-muted d-block mb-1">
                        <i class="bi bi-calendar-x me-1"></i>
                        Contract End
                    </small>
                    <strong>
                        @if (Model.NgayKetThuc != DateTime.MinValue)
                        {
                            @Model.NgayKetThuc.ToString("dd/MM/yyyy")
                        }
                        else
                        {
                            <span class="text-muted">N/A</span>
                        }
                    </strong>
                </div>
            </div>

            @if (Model.NgayKetThuc != DateTime.MinValue)
            {
                var daysRemaining = (Model.NgayKetThuc - DateTime.Today).Days;
                <div class="col-12">
                    <div class="alert @(daysRemaining > 30 ? "alert-success" : daysRemaining > 0 ? "alert-warning" : "alert-danger") mb-0">
                        <i class="bi bi-clock-fill me-2"></i>
                        @if (daysRemaining > 0)
                        {
                            <strong>@daysRemaining ngày</strong> <span>còn lại trong hợp đồng</span>
                        }
                        else
                        {
                            <strong>Hợp đồng đã hết hạn</strong>
                        }
                    </div>
                </div>
            }
        </div>

        
    }
    else
    {
        <div class="alert alert-warning mb-0">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            Chưa có hợp đồng
        </div>
    }
</div>

<style>
    .contract-box {
        padding: 16px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #dee2e6;
        transition: all 0.3s;
    }
    
    .contract-box:hover {
        border-color: #0d6efd;
        box-shadow: 0 2px 8px rgba(13, 110, 253, 0.15);
    }
</style>